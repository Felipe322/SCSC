{% extends 'base.html' %}
{% load static %}

{% block titulo %}
    Listado de usuarios
{% endblock titulo %}

{% block contenido %}
<center><h1 class="app-page-title">Lista de usuarios</h1> </center>
<br>

<a href="{% url 'usuarios:crear' %}" class="btn btn-success">Crear usuario</a>
<div class="app-card app-card-orders-table shadow-sm mb-5">
    <hr>
    <br>
    <table class="table">
      {% include 'mensaje.html' %}
        <thead>
            <th>Usuario</th>
            <th>Nombre</th>
            <th>Email</th>
            <th>Área</th>
            <th>Última actividad</th>
            <th>Opciones</th>
        </thead>
        <tbody>
            {% for usuario in object_list  %}
            <tr>
              <div>
              <a href="{% url 'usuarios:editar' usuario.id %}">
                <td>{{usuario.username}}</td>
                <td>{{usuario.first_name}} {{usuario.last_name}}</td>
                <td>{{usuario.email}}</td>
                <td>{{usuario.area}}</td>
                <td>{{usuario.last_login}}</td>
                <td>
                  <a title="Editar usuario" href="{% url 'usuarios:editar' usuario.id %}" style="color: blue; font-size:30px;" class="fa fa-edit"></a>
                  <a
                    onclick="eliminaAreaModal(`{% url 'usuarios:eliminar' usuario.id %}` , '{{usuario.email}}', '{{usuario.username}}')"
                    type="button" class="fa fa-trash" style="color: red; font-size:30px; padding-left: 5px;" data-toggle="modal" title="Eliminar usuario"
                    data-target="#modal">
                  </a>
              </td>
            </a>
          </div>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% include 'paginado.html' %}
</div>

{% include 'modal.html' %}

{% endblock contenido %}


{% block js %}
  <script src="{% static 'js/funciones.js' %}"></script>
{% endblock js %}
  
