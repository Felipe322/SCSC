{% load static %}
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Introduzca la nueva contraseña</title>

    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet"  href="{% static 'css/fontawsom-all.min.css' %}" >
    <link rel="stylesheet" type="text/css" href="{% static 'css/style_4.css' %}"/>
    <link rel="stylesheet" href="{% static 'fonts/icomoon/style.css' %}">
</head>

<body>
    <br>
    <center> <h1>Sistema de Control y Seguimiento <br> de Correspondencias</h1></center>
    <div class="container-fluid ">
        <div class="container ">
            <div class="row cdvfdfd">
                <div class="login-box">
                        <div class="log-det">
                            <div class="small-logo"><b>Introduzca la nueva contraseña</b></div>
                            <p class="dfmn">Por favor introduzca su nueva contraseña<br> dos veces de manera que podamos<br> verificar que la ha escrito correctamente.</p>
                            <form method="POST">
                                {% csrf_token %}
                            <div class="text-box-cont">
                                <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1"><i class="fas fa-user"></i></span>
                                    </div>
                                    <input id="id_new_password1" type="password" class="form-control" placeholder="Nueva contraseña" aria-label="Nueva contraseña" aria-describedby="basic-addon1" name="new_password1" required>
                                </div>   
                                <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1"><i class="fas fa-user"></i></span>
                                    </div>
                                    <input id="id_new_password2" type="password" class="form-control" placeholder="Confirmar contraseña" aria-label="Confirmar contraseña" aria-describedby="basic-addon1" name="new_password2" required>
                                </div>    
                                <input type="checkbox" onclick="mostrarPass()"> Mostrar contraseña
                                <br>
                                <br>
                                <div class="input-group center">
                                    <button class="btn btn-danger btn-round">CAMBIAR MI CONTRASEÑA</button>
                                </div> <br>
                                    <center><small class="dfmn">
                                    <a href="{% url 'login' %}"><b>Iniciar sesión</b></a>
                                    </small></center>
                                <p class="small-info">
                                    <b>Contacta al administrador si no tienes una cuenta.</b><br><br>
                                </p>
                                <center><small class="dfmn">
                                    <a href="{% url 'info' %}" target="_blank"><span class="icon-help mr-3"></span><b>Contacto</b></a>
                                </small></center>
                            </div>
                                {% if form.errors %}
                                    {% for field in form %}
                                        {% for error in field.errors %} 
                                            <div class="alert alert-danger">
                                               <small> <strong>{{ error|escape }}</strong> </small>
                                            </div>
                                        {% endfor %}
                                    {% endfor %}
                                {% endif %}
                                <div class="alert alert-primary">
                                    <small>                  
                                        <b>* Su contraseña no puede ser muy similar a su otra información personal.</b><br>
                                        <b>* Su contraseña debe contener al menos 8 caracteres.</b><br>
                                        <b>* Su contraseña no puede ser una contraseña de uso común.</b><br>
                                        <b>* Su contraseña no puede ser completamente numérica.</b><br>
                                    </small>                  
                                </div>
                        </form>
                        </div>
                </div>
            </div>
        </div>
    </div>

<script>
function mostrarPass() {
    var pass1 = document.getElementById("id_new_password1");
    var pass2 = document.getElementById("id_new_password2");
        if (pass1.type === "password") {
            pass1.type = "text";
            pass2.type = "text";
        } else {
            pass1.type = "password";
            pass2.type = "password";
        }
    } 
</script>

</body>

</html>
